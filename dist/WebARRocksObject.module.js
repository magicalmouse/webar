/**
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * This code is released under dual licensing:
 *   - GPLv3 
 *   - Nominative commercial license
 * Please read https://github.com/WebAR-rocks/WebAR.rocks.object/blob/master/LICENSE
 * 
*//* eslint-disable */
/*
 SharedContext.is_webgl2() &&*/
function $a(){this.wa=!1;this.ea=null;this.Xc=void 0;this.ba=1;this.oc=this.gd=0;this.ra=null}function ib(H){if(H.wa)throw new TypeError("Generator is already running");H.wa=!0}$a.prototype.ya=function(H){this.Xc=H};$a.prototype.Da=function(H){this.ra={td:H,Md:!0};this.ba=this.gd||this.oc};$a.prototype.return=function(H){this.ra={return:H};this.ba=this.oc};function jb(H){this.s=new $a;this.be=H}
jb.prototype.ya=function(H){ib(this.s);if(this.s.ea)return pb(this,this.s.ea.next,H,this.s.ya);this.s.ya(H);return qb(this)};function Ab(H,ba){ib(H.s);var ra=H.s.ea;if(ra)return pb(H,"return"in ra?ra["return"]:function(wa){return{value:wa,done:!0}},ba,H.s.return);H.s.return(ba);return qb(H)}jb.prototype.Da=function(H){ib(this.s);if(this.s.ea)return pb(this,this.s.ea["throw"],H,this.s.ya);this.s.Da(H);return qb(this)};
function pb(H,ba,ra,wa){try{var Aa=ba.call(H.s.ea,ra);if(!(Aa instanceof Object))throw new TypeError("Iterator result "+Aa+" is not an object");if(!Aa.done)return H.s.wa=!1,Aa;var Ja=Aa.value}catch(sa){return H.s.ea=null,H.s.Da(sa),qb(H)}H.s.ea=null;wa.call(H.s,Ja);return qb(H)}
function qb(H){for(;H.s.ba;)try{var ba=H.be(H.s);if(ba)return H.s.wa=!1,{value:ba.value,done:!1}}catch(ra){H.s.Xc=void 0,H.s.Da(ra)}H.s.wa=!1;if(H.s.ra){ba=H.s.ra;H.s.ra=null;if(ba.Md)throw ba.td;return{value:ba.return,done:!0}}return{value:void 0,done:!0}}function Bb(H){this.next=function(ba){return H.ya(ba)};this.throw=function(ba){return H.Da(ba)};this.return=function(ba){return Ab(H,ba)};this[Symbol.iterator]=function(){return this}}
function Tb(H){function ba(wa){return H.next(wa)}function ra(wa){return H.throw(wa)}return new Promise(function(wa,Aa){function Ja(sa){sa.done?wa(sa.value):Promise.resolve(sa.value).then(ba,ra).then(Ja,Aa)}Ja(H.next())})}
const JEEARAPI=function(){function H(b){var c=null,e=null,f=null,q=0;this.B=function(k){this.je(k.Ua);f.kd({Lb:k.Lb,Ib:k.Ib})};this.Ed=function(k){return c[k]};this.je=function(k){var r=null;q=k.length;c=k.map(function(l,h){l=Object.assign({},l,{index:h,parent:this,bb:r,Pd:h===q-1});return r=h=0===h?Ub.instance(l):Vb.instance(l)});e=c[0];f=c[q-1];c.forEach(function(l,h){0!==h&&l.ae()})};this.L=function(k){var r=k;c.forEach(function(l){r=l.L(r,!1)});return r};this.$d=function(k){var r,l,h;return Tb(new Bb(new jb(function(u){r=
k;for(l=0;l<q-1;++l)h=c[l],r=h.L(r,!1);var x=c[q-1].L(r,!0);u.ba=0;return{value:x}})))};this.Dd=function(){return e.C()};this.Hd=function(){return f.C()};this.tc=function(){return f.Gd()};this.rc=function(){return f.rc()};this.u=function(){c&&(c.forEach(function(k){k.u()}),f=e=c=null,q=0)};"undefined"!==typeof b&&this.B(b)}var ba;function ra(b,c){var e=c%8;return b[(c-e)/8]>>7-e&1}function wa(b){var c=JSON.parse(b);b=c.ne;var e=c.nf,f=c.n;var q="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):
atob(c.data);var k=q.length;c=new Uint8Array(k);for(var r=0;r<k;++r)c[r]=q.charCodeAt(r);q=new Float32Array(f);k=new Float32Array(e);r=b+e+1;for(var l=0;l<f;++l){for(var h=r*l,u=0===ra(c,h)?1:-1,x=h+1,w=1,d=0,v=x+b-1;v>=x;--v)d+=w*ra(c,v),w*=2;x=d;h=h+1+b;w=k.length;d=0;for(v=h;v<h+w;++v)k[d]=ra(c,v,!0),++d;for(w=h=0;w<e;++w)h+=k[w]*Math.pow(2,-w-1);q[l]=0===h&&0===x?0:u*(1+h)*Math.pow(2,1+x-Math.pow(2,b-1))}return q}function Aa(b){if(b){var c=b.w,e=b.h;D.I.ta[0]=-1+2*(b.x+c/2)/D.da;D.I.ta[1]=-1+
2*(b.y+e/2)/D.ca;D.I.scale[0]=c/D.da;D.I.scale[1]=e/D.ca}else D.I.ta[0]=0,D.I.ta[1]=0,D.I.scale[0]=1,D.I.scale[1]=1;D.S=D.da*D.I.scale[0];D.O=D.ca*D.I.scale[1]}function Ja(){var b=[{type:"2f",name:"u33",value:D.I.ta},{type:"2f",name:"u34",value:D.I.scale}],c=b.concat([{type:"1f",name:"u35",value:D.da/D.ca},{name:"u7",type:"2f",value:[1/D.da,1/D.ca]}]);B.K("s49",c);B.K("s50",c);B.K("s51",b)}function sa(b,c,e){var f=Ka(b,c,"dx")*D.la[0],q=Ka(b,c,"dy")*D.la[1];b=e[2]*Ka(b,c,"ds");if(Ta){c=Math.cos(Da);
var k=Math.sin(Da),r=-k*f+c*q;f=c*f+k*q;q=r}f*=e[0];q*=e[1];e=Q.m[2];c=Q.m[3];Q.m[0]-=f*e*U.M[0];Q.m[1]-=q*c*U.M[1];Q.m[2]-=b*e*U.M[2];Q.m[2]=ab.ob(Q.m[2],La.scaleXRange[0]*D.la[0],La.scaleXRange[1]*D.la[0]);Q.m[0]=ab.ob(Q.m[0],0,1);Q.m[3]=Q.m[2]*D.aspectRatio/D.Bb;Q.m[1]=ab.ob(Q.m[1],0,1)}function rb(b){var c=Q.m[2],e=Q.m[3],f=(2*Math.random()-1)*b,q=.5*(2*Math.random()-1)*b;Q.m[0]+=(2*Math.random()-1)*b*c;Q.m[1]+=f*e;Q.m[2]+=q*c;Q.m[3]=Q.m[2]*D.aspectRatio/D.Bb}function Ka(b,c,e){c=Ea[c].Ec[e];
return(b[c][0]+b[c][1]+b[c][2]+b[c][3])/4}function Cb(b,c){if(U.Eb){if(U.Pb){var e=Ka(b,c,"yaw");b=-Ka(b,c,"notHere");return Math.atan2(b,e)}return Math.PI*Ka(b,c,"yaw")}return 0}function Db(b,c,e,f){c=Ea[c].Ec[e];return(b[c][0]+b[c][1]+b[c][2]+b[c][3])/4*(1-f)+f*Math.min(b[c][0],b[c][1],b[c][2],b[c][3])}function kb(b,c,e){var f=Db(b,c,"here",e),q=0;0<sb&&!U.Pb&&(q=sb*Db(b,c,"notHere",e));return(f-q)/Ea[c].Ub}function Ua(){Da=0;Ta&&null!==bb&&(Da=bb[0]+Math.random()*(bb[1]-bb[0]));qa=fa.qa;var b=
Eb.get();b&&(Q.m[0]=b[0],Q.m[1]=b[1],Q.m[2]=b[2],Q.m[3]=b[2]*D.aspectRatio)}function Wb(b,c){U.va&&(ma.roll=Ta?Da:tb);U.Sa&&(ma.pitch=Fb);U.Eb&&(ma.yaw=b);ma.label=Ea[Y.G].label;ma.distance=Ea[Y.G].qd;ma.positionScale[0]=.5+(Q.m[0]-.5)/D.I.scale[0];ma.positionScale[1]=.5+(Q.m[1]-.5)/D.I.scale[1];ma.positionScale[2]=Q.m[2];ma.positionScale[3]=Q.m[3];ma.detectScore=c}function Xb(b){var c=-1,e=-1E12;-1!==[fa.qa,fa.jb].indexOf(qa)&&Ea.forEach(function(h,u){h=kb(b,u,0);h>e&&(e=h,c=u)});switch(qa){case fa.qa:qa=
fa.jb;sa(b,c,[1,1,1]);ba=0;break;case fa.jb:++ba;e>S.ib?(S.xa?(qa=fa.Fa,cb=c,Y.G=c,Y.Hb=0):(qa=fa.Xb,Gb=0,cb=c),sa(b,cb,[1,1,1])):ba>ca.Vd?Ua():sa(b,c,[1,1,1]);break;case fa.Xb:++Gb>S.Za&&(qa=fa.Fa,Y.n=0,Y.Hc=0,Y.G=cb,Y.V[0]=0,Y.V[1]=0);sa(b,cb,[1,1,1]);rb(S.Va);break;case fa.Fa:if(S.xa||++Y.n>S.ha){var f=kb(b,Y.G,1);if(S.xa||f>S.ib+S.hb||S.Ra){U.va&&(tb=U.Nc*Ka(b,Y.G,"roll"),Ta&&(Da+=tb));if(ub){var q=-1;q=S.xa||S.Ra?Cb(b,Y.G):Math.atan2(Y.V[1],Y.V[0]);if(U.Sa){var k=.5+.5*Ka(b,Y.G,"pitch");Fb=U.pitchRange[0]+
(U.pitchRange[1]-U.pitchRange[0])*k}Wb(q,f)}S.Ra?(sa(b,Y.G,S.Tc),f>S.Sc?(Y.Hb=0,ma.label||(ma.label=Ea[Y.G].label)):++Y.Hb>S.Xa&&Ua()):ub?Ua():sa(b,Y.G,[.5,.5,.5])}else Ua()}else{var r=1-(S.ha-Y.n)/(S.ha-1);f=1.5-1*r;sa(b,Y.G,[f,f,f]);rb(S.Ia*(1-r));var l=kb(b,Y.G,r);l<S.ib*r*S.Ja?Ua():++Y.Hc>10*S.ha?Ua():Ea.some(function(h,u){return Y.G===u?!1:kb(b,u,r)>l*(S.Ca*r+(1-r))?!0:!1})?(rb(S.Ea[0]),Da+=(2*Math.random()-1)*S.Ea[1]*Math.PI/180,Y.n=0,Y.V[0]=0,Y.V[1]=0):(f=Cb(b,Y.G),Y.V[0]+=Math.cos(f),Y.V[1]+=
Math.sin(f))}}}function Yb(){B.Zc([{id:"s50",name:"_",oa:"attribute vec2 a0;uniform vec4 u36;uniform vec2 u33,u34;uniform float u32,u35;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u35*(u36.z/u36.w);a*=u34.x/u34.y;float b=cos(u32),c=sin(u32);vec2 f=mat2(b,-c*a,c/a,b)*a0,g=u33+f*u34,d=u36.xy+.5*u36.zw*g;vv0=vec2(d.x,1.-d.y);}",g:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);vec3 c[9];void main(){vec2 d=vv0+.5*u7;c[0]=texture2D(u1,d-u7*vec2(-1.,-1.)).rgb,c[1]=texture2D(u1,d-u7*vec2(-1.,0.)).rgb,c[2]=texture2D(u1,d-u7*vec2(-1.,1.)).rgb,c[3]=texture2D(u1,d-u7*vec2(0.,-1.)).rgb,c[4]=texture2D(u1,d-u7).rgb,c[5]=texture2D(u1,d-u7*vec2(0.,1.)).rgb,c[6]=texture2D(u1,d-u7*vec2(1.,-1.)).rgb,c[7]=texture2D(u1,d-u7*vec2(1.,0.)).rgb,c[8]=texture2D(u1,d-u7*vec2(1.,1.)).rgb;vec3 a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[0],c[5]),b=max(c[0],c[5]),c[0]=a,c[5]=b,a=min(c[0],c[6]),b=max(c[0],c[6]),c[0]=a,c[6]=b,a=min(c[0],c[7]),b=max(c[0],c[7]),c[0]=a,c[7]=b,a=min(c[0],c[8]),b=max(c[0],c[8]),c[0]=a,c[8]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[1],c[5]),b=max(c[1],c[5]),c[1]=a,c[5]=b,a=min(c[1],c[6]),b=max(c[1],c[6]),c[1]=a,c[6]=b,a=min(c[1],c[7]),b=max(c[1],c[7]),c[1]=a,c[7]=b,a=min(c[1],c[8]),b=max(c[1],c[8]),c[1]=a,c[8]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,a=min(c[2],c[5]),b=max(c[2],c[5]),c[2]=a,c[5]=b,a=min(c[2],c[6]),b=max(c[2],c[6]),c[2]=a,c[6]=b,a=min(c[2],c[7]),b=max(c[2],c[7]),c[2]=a,c[7]=b,a=min(c[2],c[8]),b=max(c[2],c[8]),c[2]=a,c[8]=b,a=min(c[3],c[4]),b=max(c[3],c[4]),c[3]=a,c[4]=b,a=min(c[3],c[5]),b=max(c[3],c[5]),c[3]=a,c[5]=b,a=min(c[3],c[6]),b=max(c[3],c[6]),c[3]=a,c[6]=b,a=min(c[3],c[7]),b=max(c[3],c[7]),c[3]=a,c[7]=b,a=min(c[3],c[8]),b=max(c[3],c[8]),c[3]=a,c[8]=b,a=min(c[4],c[5]),b=max(c[4],c[5]),c[4]=a,c[5]=b,a=min(c[4],c[6]),b=max(c[4],c[6]),c[4]=a,c[6]=b,a=min(c[4],c[7]),b=max(c[4],c[7]),c[4]=a,c[7]=b,a=min(c[4],c[8]),b=max(c[4],c[8]),c[4]=a,c[8]=b,gl_FragColor=vec4(c[4]*g,1.);}",
i:"u1 u36 u34 u33 u32 u35 u7".split(" "),precision:"lowp"},{id:"s49",name:"_",oa:"attribute vec2 a0;uniform vec4 u36;uniform vec2 u33,u34;uniform float u32,u35;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);float a=u35*(u36.z/u36.w);a*=u34.x/u34.y;float b=cos(u32),c=sin(u32);vec2 f=mat2(b,-c*a,c/a,b)*a0,g=u33+f*u34,d=u36.xy+.5*u36.zw*g;vv0=vec2(d.x,1.-d.y);}",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:"u1 u36 u34 u33 u32 u35".split(" "),precision:"lowp"},
{id:"s52",name:"_",oa:"attribute vec2 a0;uniform vec4 u36;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u36.xy+.5*u36.zw*a0;vv0=vec2(a.x,1.-a.y);}",g:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const vec3 g=vec3(1.,1.,1.);float c[5];void main(){c[0]=texture2D(u1,vv0-u7*vec2(-1.,0.)).r,c[1]=texture2D(u1,vv0-u7*vec2(0.,-1.)).r,c[2]=texture2D(u1,vv0-u7).r,c[3]=texture2D(u1,vv0-u7*vec2(0.,1.)).r,c[4]=texture2D(u1,vv0-u7*vec2(1.,0.)).r;float a,b;a=min(c[0],c[1]),b=max(c[0],c[1]),c[0]=a,c[1]=b,a=min(c[0],c[2]),b=max(c[0],c[2]),c[0]=a,c[2]=b,a=min(c[0],c[3]),b=max(c[0],c[3]),c[0]=a,c[3]=b,a=min(c[0],c[4]),b=max(c[0],c[4]),c[0]=a,c[4]=b,a=min(c[1],c[2]),b=max(c[1],c[2]),c[1]=a,c[2]=b,a=min(c[1],c[3]),b=max(c[1],c[3]),c[1]=a,c[3]=b,a=min(c[1],c[4]),b=max(c[1],c[4]),c[1]=a,c[4]=b,a=min(c[2],c[3]),b=max(c[2],c[3]),c[2]=a,c[3]=b,a=min(c[2],c[4]),b=max(c[2],c[4]),c[2]=a,c[4]=b,gl_FragColor=vec4(c[2]*g,1.);}",
i:["u1","u36","u7"],precision:"lowp"},{id:"s51",name:"_",oa:"attribute vec2 a0;uniform vec2 u33,u34;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){gl_Position=vec4(a0,0.,1.);vec2 a=u33+a0*u34,b=(a+f)/2.;vv0=b;}",g:"uniform sampler2D u1;uniform vec4 u36;varying vec2 vv0;void main(){vec2 b=u36.xy-.5*u36.zw,c=u36.xy+.5*u36.zw,a=step(b,vv0)*step(vv0,c);vec4 d=texture2D(u1,vec2(vv0.x,1.-vv0.y));gl_FragColor=mix(d,vec4(0.,1.,0.,1.),a.x*a.y*.5);}",i:["u1","u36","u34","u33"],precision:"lowp"}]);var b=
[{type:"1i",name:"u1",value:0}];B.K("s50",b);B.K("s49",b);B.K("s52",b);B.K("s51",b);Hb()}function Hb(){Da=0;B.K("s49",Ib);B.K("s50",Ib);ma.roll=0}function Va(){D.aspectRatio=D.S/D.O;Eb.B({ab:La.overlapFactors,Gc:La.nScaleLevels,S:D.S,O:D.O,Oc:La.scale0Factor,M:U.M,Pc:La.scanCenterFirst})}function Jb(b){L.ka={isFlipY:!1,isLinear:!0,width:D.S,height:D.O,isPot:!1,isFloat:!1};L.type===Ma.ub?Object.assign(L.ka,{isKeepArray:!0,array:b.arrayBuffer}):Object.assign(L.ka,{D:b});L.H=Z.instance(L.ka);L.ma=!0}
function Kb(b,c,e){if(!b.exportData||!b.exportData.labels)return c("INVALID_NN");var f=b.exportData;"undefined"===typeof f.paramsPerLabel&&(f.paramsPerLabel={});"undefined"!==typeof e&&e.paramsPerLabel&&(f.paramsPerLabel=Object.assign(f.paramsPerLabel,e.paramsPerLabel));lb.reset_state();Pa=new H({Ua:b.layers,Lb:"cpuRGBA2Float",Ib:Xb});Q.H=Z.instance({isFloat:!1,isPot:!1,width:Pa.Dd()});U.M=f.translationScalingFactors?f.translationScalingFactors:ca.M;f.rollMax?(U.Nc=f.rollMax,U.va=!0):U.va=!1;f.pitchRange?
(U.pitchRange=f.pitchRange,U.Sa=!0):U.Sa=!1;f.splitYawComponents&&(U.Pb=!0);"undefined"!==typeof f.isYaw&&(U.Eb=f.isYaw);U.width=Pa.Hd();b="undefined"===typeof e?{}:e;sb="undefined"===typeof b.notHereFactor?1:b.notHereFactor;b=f.labels;e="undefined"===typeof f.paramsPerLabel?!1:f.paramsPerLabel;var q="undefined"===typeof f.inputAspectRatio?1:f.inputAspectRatio,k=Math.sqrt(q);D.la[0]=k;D.la[1]=1/k;D.Bb=q;Va();q=Array(b.length);for(k=0;k<U.width/8;++k)for(var r=0;r<U.width;++r){var l=r+k*U.width;if(l>=
b.length)break;var h=r,u=8*k,x=b[l];q[l]={Ub:e&&e[x]&&e[x].thresholdDetect?e[x].thresholdDetect:ca.Ub,label:x,qd:f.distances&&f.distances[l]?f.distances[l]:3,Ec:{here:h+u*U.width,notHere:h+(u+1)*U.width,yaw:h+(u+2)*U.width,dx:h+(u+3)*U.width,dy:h+(u+4)*U.width,ds:h+(u+5)*U.width,roll:h+(u+6)*U.width,pitch:h+(u+7)*U.width}}}Ea=q;c(!1)}function Lb(b,c,e){if(qa===fa.LOADING||db!==Wa.IDLE)return-1;Object.assign(na,Zb,e?e:{});S.ib=na.thresholdDetectFactor;S.Sc=na.thresholdDetectFactorUnstitch;S.xa=na.isSkipConfirmation;
S.Ra=na.isKeepTracking;S.Tc=na.trackingFactors;S.Ca=na.secondNeighborFactor;S.Za=na.nLocateAutomoves;S.Va=na.locateMoveNoiseAmplitude;S.ha=na.nConfirmAutoMoves;S.hb=na.thresholdConfirmOffset;S.Ia=na.confirmMoveNoiseAmplitude;S.Xa=na.nConfirmUnstitchMoves;S.Ea=na.tiltPosAngleIfAmbiguousDetection;S.Ja=na.confirmScoreMinFactorDuringAutoMove;Fa.W();ma.label=!1;switch(L.current){case Xa.video:L.type===Ma.video&&L.time!==L.element.currentTime?(L.H.refresh(),L.time=L.element.currentTime):L.type===Ma.ub&&
L.element.needsUpdate&&(L.H.Vc(L.element.arrayBuffer),L.element.needsUpdate=!1);switch(na.cutShader){case "median":D.ua="s50";break;default:D.ua="s49"}break;case Xa.Wc:if(!L.ma){D.S=c.size.width;D.O=c.size.height;switch(na.cutShader){case "IOS":D.ua="s52";B.K("s52",[{name:"u7",type:"2f",value:[1/D.S,1/D.O]}]);break;default:D.ua="s49"}Jb(null);Va()}L.H.Vc(c.buffer)}b||(b=vb.Fd()+ca.Ya[0],vb.qe());return b}function Mb(b,c){Q.H.ja();B.set(D.ua);Ta&&U.va&&B.U("u32",qa===fa.Fa?Da:0);L.H.j(0);B.Ba("u36",
Q.m);da.o(!1,!1);Q.H.j(0);ub=b===c-1}function Nb(){Fa.se();Ya&&(a.viewport(0,0,ta.width,ta.height),B.set("s51"),L.H.j(0),B.Ba("u36",Q.m),da.o(!1,!1),Ob&&a.commit?a.commit():a.flush());return ma}var ab={Ye:function(b){return Math.ceil(Math.log2(b))},qf:function(b){return Math.log2(b)},mf:function(b){return 0===Math.log2(b)%1},Be:function(b){var c=[0,0,0,0];b.forEach(function(e){c[0]+=e[0];c[1]+=e[1];c[2]+=e[2];c[3]+=e[3]});return c},ob:function(b,c,e){return Math.min(Math.max(b,c),e)},Ee:function(b){return b*
Math.PI/180},wf:function(b,c){c=Math.pow(10,c);return Math.round(b*c)/c},xf:function(b){return Math.round(1E6*b)/1E6},Ze:function(b,c){return(100*b/c).toFixed(3)},rf:function(b,c,e){return b*(1-e)+c*e},pd:function(b,c){return ab.hd(b-c)},hd:function(b){for(;b>Math.PI;)b-=2*Math.PI;for(;b<=-Math.PI;)b+=2*Math.PI;return b},Ge:function(b,c){return Math.abs(ab.pd(b,c))},ve:function(b,c){return Math.atan2(Math.sin(b)+Math.sin(c),Math.cos(b)+Math.cos(c))}},Pb={get:function(b,c,e){var f=new XMLHttpRequest;
f.open("GET",b,!0);f.withCredentials=!1;f.onreadystatechange=function(){4===f.readyState&&(200===f.status||0===f.status?c(f.responseText):"undefined"!==typeof e&&e(f.status))};f.send()},We:function(b,c){Pb.get(b,function(e){c(JSON.parse(e))})},sf:function(b,c,e){var f=new XMLHttpRequest;f.open("POST",b,!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&0!==f.status||e(f.responseText)};f.send(c)},Ke:function(b,
c){var e=new XMLHttpRequest;e.open("POST",b,!0);e.responseType="arraybuffer";e.onload=function(){c(e.response)};e.send()}},wb={sb:function(b,c){if(0===c||"object"!==typeof b)return b;b=Object.assign({},b);c=void 0===c||-1===c?-1:c-1;for(var e in b)b[e]=wb.sb(b[e],c);return b}},$b={wd:function(b,c,e){switch(b){case "relu":return e+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return e+"=mix(exp(-abs("+c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return e+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+
c+",step(0.,"+c+"));";case "arctan":return e+"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},B=function(){function b(p,m,z){m=p.createShader(m);p.shaderSource(m,z);p.compileShader(m);return p.getShaderParameter(m,p.COMPILE_STATUS)?m:!1}function c(p,m,z){m=b(p,p.VERTEX_SHADER,m);z=b(p,p.FRAGMENT_SHADER,z);p===a&&r.push(m,z);var I=p.createProgram();p.attachShader(I,m);p.attachShader(I,z);p.linkProgram(I);return I}function e(p,m){void 0===m.oa&&(m.oa=
"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===m.$b&&(m.$b=["a0"]);void 0===m.lb&&(m.lb=[2]);if(void 0===m.precision||"highp"===m.precision)m.precision=w;m.id=u++;void 0!==m.Qc&&(m.Qc.forEach(function(I,M){m.g=m.g.replace(I,m.cb[M])}),m.Qc.splice(0));m.Wb=0;m.lb.forEach(function(I){m.Wb+=4*I});m.ia=c(p,m.oa,"precision "+m.precision+" float;\n"+m.g);m.v={};m.i.forEach(function(I){m.v[I]=p.getUniformLocation(m.ia,I)});
m.attributes={};m.sa=[];m.$b.forEach(function(I){var M=p.getAttribLocation(m.ia,I);m.attributes[I]=M;m.sa.push(M)});if(m.l){p.useProgram(m.ia);h=m;l=m.id;for(var z in m.l)p.uniform1i(m.v[z],m.l[z])}m.ma=!0}function f(p){xa.me(J);l!==p.id&&(J.R(),l=p.id,h=p,a.useProgram(p.ia),p.sa.forEach(function(m){0!==m&&a.enableVertexAttribArray(m)}))}function q(p,m,z){e(p,m,z);p.useProgram(m.ia);p.enableVertexAttribArray(0);l=-1;return h=m}function k(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1"],l:{u1:0}}}var r=[],l=-1,h=null,u=0,x=!1,w="highp",d=["u1"],v=["u0"],A={u1:0},E={u0:0},n={u1:0,u2:1},K={u3:0},X={s0:k(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:d,l:A,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],l:n},s3:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",
i:d,l:A},s4:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],l:n},s5:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:d,l:A},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:d,l:A},s7:{g:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",
i:["u0","u4"],l:E},s8:{g:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",i:["u0","u4"],l:E},s9:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:d,l:A},s10:{g:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",
i:["u1","u5","u6"],l:{u1:0,u5:1}},s11:{g:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",i:["u1","u7"],l:A},s12:{g:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
i:["u1","u8"],l:A},s13:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:v,l:E},s14:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:v,l:E},s15:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:v,l:E},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",
i:v,l:E},s17:{g:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u6","u9"],l:{u0:0,u6:1,u9:2}},s18:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:v,l:E},s19:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",
i:v,l:E},s20:{g:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u10","u11"],l:{u0:0,u10:1}},s21:{g:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u12"],l:A},s22:{g:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",i:["u13","u14","u15"],l:{u14:0,u13:1,u15:2}},s23:{g:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",i:["u14","u13","u16"],l:{u14:0,u13:1}},s24:{g:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u13 u14 u16 u20 u17 u18 u19".split(" "),l:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6}},s25:{g:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",i:"u13 u14 u16 u22 u23 u24 u21".split(" "),l:{u14:0,
u13:1,u21:2}},s26:{g:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",i:["u13","u14"],l:{u14:0,u13:1}},s27:{g:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",i:["u1","u21","u25"],l:{u1:0,u21:1}},s28:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:d,l:A,precision:"lowp"},s29:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u26"],l:A,precision:"lowp"},s30:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u26"],l:A,precision:"lowp"},s31:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u27"],l:n},s32:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u27"],l:n},s33:{g:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u7"],l:K},s34:{g:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u7"],l:K},s35:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
i:["u1"],l:A,precision:"lowp"},s36:{g:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",i:["u7","u1"],l:A,precision:"lowp"},s37:{g:"uniform sampler2D u1,u28,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u28,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",
i:["u1","u28","u29"],l:{u1:0,u28:1,u29:2}}},R={s38:{g:"uniform float u16,u30;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u16","u13","u14","u21","u30"],cb:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{g:"uniform float u16,u30,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u16 u24 u13 u14 u21 u30".split(" "),cb:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},V=null,F=null,J={Ta:function(){return x},B:function(){if(!x){V=wb.sb(X,2);F=wb.sb(R,2);w="highp";for(var p in V)e(a,V[p],p);B.set("s0");a.enableVertexAttribArray(0);x=!0}},Zc:function(p){p.forEach(function(m){J.Zb(m)})},Zb:function(p){V[p.id]=p;e(a,p,p.id)},vc:function(p,m,z){m||(m=p);V[m]=Object.create(F[p]);V[m].Od=!0;F[p].cb&&F[p].cb.forEach(function(I,M){V[m].g=V[m].g.replace(new RegExp(I,"g"),z[M])});e(a,
V[m],m)},set:function(p){f(V[p])},za:function(p){return q(p,k(),"s40")},Nb:function(p){return q(p,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"},"s41")},ud:function(p){return"undefined"===typeof V[p]?!1:V[p].ma},R:function(){-1!==l&&(l=-1,h.sa.forEach(function(p){0!==p&&a.disableVertexAttribArray(p)}))},Ob:function(){var p=0;h.sa.forEach(function(m,z){z=h.lb[z];a.vertexAttribPointer(m,z,a.FLOAT,!1,h.Wb,p);p+=4*z})},Je:function(){a.enableVertexAttribArray(0)},eb:function(){J.fb(a)},
fb:function(p){p.vertexAttribPointer(h.sa[0],2,p.FLOAT,!1,8,0)},Bf:function(p,m){a.uniform1i(h.v[p],m)},U:function(p,m){a.uniform1f(h.v[p],m)},Aa:function(p,m,z){a.uniform2f(h.v[p],m,z)},Cf:function(p,m){a.uniform2fv(h.v[p],m)},Ef:function(p,m){a.uniform3fv(h.v[p],m)},Df:function(p,m,z,I){a.uniform3f(h.v[p],m,z,I)},Ff:function(p,m,z,I,M){a.uniform4f(h.v[p],m,z,I,M)},Ba:function(p,m){a.uniform4fv(h.v[p],m)},Gf:function(p,m){a.uniformMatrix2fv(h.v[p],!1,m)},Hf:function(p,m){a.uniformMatrix3fv(h.v[p],
!1,m)},If:function(p,m){a.uniformMatrix4fv(h.v[p],!1,m)},K:function(p,m){J.set(p);m.forEach(function(z){switch(z.type){case "4f":a.uniform4fv(h.v[z.name],z.value);break;case "3f":a.uniform3fv(h.v[z.name],z.value);break;case "2f":a.uniform2fv(h.v[z.name],z.value);break;case "1f":a.uniform1f(h.v[z.name],z.value);break;case "1i":a.uniform1i(h.v[z.name],z.value);break;case "mat2":a.uniformMatrix2fv(h.v[z.name],!1,z.value);break;case "mat3":a.uniformMatrix3fv(h.v[z.name],!1,z.value);break;case "mat4":a.uniformMatrix4fv(h.v[z.name],
!1,z.value)}})},Xe:function(){return"lowp"},u:function(){a.disableVertexAttribArray(0);J.R();for(var p in V){var m=V[p];m.ma&&(m.ma=!1,a.deleteProgram(m.ia));m.Od&&delete V[p]}r.forEach(function(z){a.deleteShader(z)});r.splice(0);u=0;x=!1;h=null;l=-1}};return J}(),a=null,Qa=function(){function b(d){console.log("ERROR in ContextFF: ",d);return!1}function c(d){function v(){Ga.u();ea.reset();E.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var A=document.createElement("canvas");A.setAttribute("width",5);A.setAttribute("height",5);var E=null;try{E=A.getContext("webgl2",d)}catch(n){return!1}if(!E)return!1;e(E);ea.fc(E);d=ea.tb(E);if(!d.Z&&!d.$)return v(),!1;d=Ga.bc(E,d);v();return d?!0:!1}function e(d){d.clearColor(0,0,0,0);d.disable(d.DEPTH_TEST);d.disable(d.BLEND);d.disable(d.DITHER);d.disable(d.STENCIL_TEST);d.disable(d.CULL_FACE);d.GENERATE_MIPMAP_HINT&&d.hint(d.GENERATE_MIPMAP_HINT,d.FASTEST);d.disable(d.SAMPLE_ALPHA_TO_COVERAGE);
d.disable(d.SAMPLE_COVERAGE);d.depthFunc(d.LEQUAL);d.clearDepth(1)}var f=null,q=null,k=null,r=null,l=null,h=!0,u=null,x=null,w={C:function(){return f.width},T:function(){return f.height},Oe:function(){return f},Me:function(){return a},aa:function(){return h},flush:function(){a.flush()},yd:function(){u||(u=new Uint8Array(f.width*f.height*4));a.readPixels(0,0,f.width,f.height,a.RGBA,a.UNSIGNED_BYTE,u);return u},Qe:function(){return f.toDataURL("image/jpeg")},Re:function(){Fa.P();q||(q=document.createElement("canvas"),
k=q.getContext("2d"));q.width=f.width;q.height=f.height;for(var d=w.yd(),v=k.createImageData(q.width,q.height),A=q.width,E=q.height,n=v.data,K=0;K<E;++K)for(var X=E-K-1,R=0;R<A;++R){var V=4*(K*A+R),F=4*(X*A+R);n[V]=d[F];n[V+1]=d[F+1];n[V+2]=d[F+2];n[V+3]=d[F+3]}k.putImageData(v,0,0);return q.toDataURL("image/png")},Pe:function(d){!q&&d&&(q=document.createElement("canvas"),k=q.getContext("2d"));var v=d?q:document.createElement("canvas");v.width=f.width;v.height=f.height;(d?k:v.getContext("2d")).drawImage(f,
0,0);return v},B:function(d){d.ld&&!d.rb?f=document.getElementById(d.ld):d.rb&&(f=d.rb);f||(f=document.createElement("canvas"));f.width=d&&void 0!==d.width?d.width:512;f.height=d&&void 0!==d.height?d.height:512;"undefined"===typeof d&&(d={});void 0===d.premultipliedAlpha&&(d.premultipliedAlpha=!1);void 0===d.zc&&(d.zc=!0);void 0===d.antialias&&(d.antialias=!1);if(a)h=a instanceof WebGL2RenderingContext;else{h=!0;var v={antialias:d.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:d.premultipliedAlpha,
stencil:!1,depth:d.zc};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(v.antialias=!1);var A=c(v);!A&&v.antialias&&(v.antialias=!1,A=c(v));A&&(a=f.getContext("webgl2",v));a?h=!0:((a=f.getContext("webgl",v))||(a=f.getContext("experimental-webgl",v)),h=!1)}if(!a)return b("WebGL1 and 2 are not enabled");(r=a.getExtension("WEBGL_lose_context"))&&d.Ic&&(x=d.Ic,f.addEventListener("webglcontextlost",x,!1));if(!ea.B())return b("Not enough GL capabilities");e(a);B.B();
da.B();return Ga.bc(a,ea.xd())?!0:b("Cannot filter float textures")},Mb:function(d,v,A,E,n){if(!ea.fd())return a.readPixels(d,v,A,E,a.RGBA,a.UNSIGNED_BYTE,n),Promise.resolve(n);var K=a.PIXEL_PACK_BUFFER;null===l?(l=a.createBuffer(),a.bindBuffer(K,l),a.bufferData(K,n.byteLength,a.STREAM_READ)):a.bindBuffer(K,l);a.readPixels(d,v,A,E,a.RGBA,a.UNSIGNED_BYTE,0);var X=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush();return new Promise(function(R,V){function F(){switch(a.clientWaitSync(X,0,0)){case a.TIMEOUT_EXPIRED:return;
case a.WAIT_FAILED:null!==J&&clearInterval(J);V();return;default:null!==J&&clearInterval(J),a.deleteSync(X),a.getBufferSubData(K,0,n),a.bindBuffer(K,null),R(n)}return!0}var J=null;F()||(J=setInterval(F,0))})},u:function(){a&&(ea.u(),Ga.u());r&&x&&(f.removeEventListener("webglcontextlost",x,!1),r=x=null);null!==l&&(a.deleteBuffer(l),l=null);a=u=k=q=f=null}};return w}(),xa=function(){function b(){null===c&&("undefined"!==typeof B?c=B:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;b();return{me:function(e){c!==
e&&(c&&c.R(),c=e)},Ta:function(){return c.Ta()},eb:function(){return c.eb()},fb:function(e){return c.fb(e)},Ob:function(){return c.Ob()},R:function(){return c.R()},set:function(e){return c.set(e)},za:function(e){b();return c.za(e)},Nb:function(e){b();return c.Nb(e)},u:function(){return c.u()}}}(),Oa=function(){function b(g){a.bindTexture(a.TEXTURE_2D,g)}function c(g){m[0]=g;g=z[0];var G=g>>16&32768,C=g>>12&2047,T=g>>23&255;return 103>T?G:142<T?G|31744|((255==T?0:1)&&g&8388607):113>T?(C|=2048,G|(C>>
114-T)+(C>>113-T&1)):G=(G|T-112<<10|C>>1)+(C&1)}function e(g){var G=new Uint16Array(g.length);g.forEach(function(C,T){G[T]=c(C)});return G}function f(){if(null!==I.zb)return I.zb;var g=k(e([.5,.5,.5,.5]));return null===g?!0:I.zb=g}function q(){if(null!==I.Ab)return I.Ab;var g=k(new Uint8Array([127,127,127,127]));return null===g?!0:I.Ab=g}function k(g){if(!xa.Ta()||!E)return null;var G=null,C=Math.sqrt(g.length/4);try{var T=a.getError();if("FUCKING_BIG_ERROR"===T)return!1;G=M.instance({isFloat:!1,
N:!0,array:g,width:C});T=a.getError();if(T!==a.NO_ERROR)return!1}catch(ya){return!1}oa.P();a.viewport(0,0,C,C);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);xa.set("s0");G.ac(0);pa.o(!0,!0);g=4*C*C;T=new Uint8Array(g);a.readPixels(0,0,C,C,a.RGBA,a.UNSIGNED_BYTE,T);C=!0;for(var ia=0;ia<g;++ia)C=C&&3>Math.abs(T[ia]-127);G.remove();oa.W();return C}var r=0,l=null,h=0,u=null,x=null,w=null,d=null,v=null,A=null,E=!1,n=[],K={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,
isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,D:null,uc:null,Nd:!1,N:!1,ga:null,Wa:4,Fb:0},X=!1,R=null,V=null,F=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],J=!1,p=!1,m=new Float32Array(1),z=new Int32Array(m.buffer),I={zb:null,Ab:null},M={B:function(){E||(v=[a.RGBA,null,a.RGBA,a.RGBA],A=[a.RGBA,null,a.RGBA,a.RGBA],l=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7],J="undefined"!==typeof JEContext,p="undefined"!==
typeof ea,J&&JEContext.pf()&&l.push(a.TEXTURE8,a.TEXTURE9),u=[-1,-1,-1,-1,-1,-1,-1,-1],d=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT],E=!0)},Jd:function(){if(!x){for(var g=new Float32Array(16384),G=0;16384>G;++G)g[G]=2*Math.random()-1;x={random:M.instance({isFloat:!0,isPot:!0,array:g,width:64}),Uc:M.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}M.ue()},df:function(){return x.Uc},ue:function(){d[1]=ea.xb(a)},ke:function(){A=v=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},Mc:function(g){B.set("s1");
oa.P();var G=g.C(),C=g.T();a.viewport(0,0,G,C);g.j(0);pa.o(!1,!1)},uf:function(g,G){M.Mc(g);a.readPixels(0,0,g.C(),g.T(),a.RGBA,a.UNSIGNED_BYTE,G)},vf:function(g,G){M.Mc(g);return Qa.Mb(0,0,g.C(),g.T(),G)},nc:function(g,G,C,T,ia,ya,t){g.activeTexture(g.TEXTURE0);var ua=g.createTexture();g.bindTexture(g.TEXTURE_2D,ua);ia=ia instanceof Float32Array?ia:new Float32Array(ia);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,ya);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,C,T,0,g.RGBA,g.FLOAT,ia);g.bindTexture(g.TEXTURE_2D,null);g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1);t&&(oa.W(),B.za(g));g.viewport(0,0,C,T);g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,G,0);g.bindTexture(g.TEXTURE_2D,ua);t?pa.o(!0,!0):da.Na(g);g.deleteTexture(ua);E&&(u[0]=-1,w=null,r=0)},kb:function(g){g!==r&&
(a.activeTexture(l[g]),r=g)},instance:function(g){function G(y){var N=a.getError();if("FUCKING_BIG_ERROR"===N)return!1;a.texImage2D(a.TEXTURE_2D,0,ja,ha,ka,y);N=a.getError();N!==a.NO_ERROR&&ha!==a.RGBA&&(ha=a.RGBA,a.texImage2D(a.TEXTURE_2D,0,ja,ha,ka,y));return!0}function C(){if(!Qb){b(va);Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Ba);t.isPot?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,t.isMirrorX?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,t.isMirrorY?a.MIRRORED_REPEAT:
a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));t.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.Te().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.we);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,t.isLinear?a.LINEAR:a.NEAREST);t.isLinear?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,t.isMipmap&&!Ra?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MIN_FILTER,t.isMipmap&&!Ra?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);ha=v[t.Wa-1];ja=A[t.Wa-1];ka=d[xb];if(ea.aa()){var y=ea.zd();ha===a.RGBA&&ka===a.FLOAT?t.isMipmap||t.isLinear?ja=Ga.Bd(a):ea.cc()?y&&(ja=y):ja=a.RGBA16F||a.RGBA:ha===a.RGB&&ka===a.FLOAT&&y&&(ja=y,ha=a.RGBA)}if(t.N&&!t.isFloat||t.isFloat&&t.isMipmap&&Ga.Sd())ja=ea.Ad(),ka=ea.xb(a);t.Fb&&(mb=t.Fb);t.isSrgb&&4===t.Wa&&(ha=JEContext.bf());if(t.D)G(t.D);else if(t.url)G(Na);else if(Ca){y=Ca;try{"FUCKING_BIG_ERROR"!==a.getError()&&
(a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,y),a.getError()!==a.NO_ERROR&&(a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,O,P,0,a.RGBA,a.UNSIGNED_BYTE,null)))}catch(lc){a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,null)}t.isKeepArray||(Ca=null)}else y=a.getError(),"FUCKING_BIG_ERROR"!==y&&(a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,null),y=a.getError(),y!==a.NO_ERROR&&(ha=a.RGBA,t.N&&ka!==a.FLOAT&&(ka=a.FLOAT,a.texImage2D(a.TEXTURE_2D,
0,ja,O,P,0,ha,ka,null))));if(t.isMipmap)if(!Ra&&aa)aa.wb(),nb=!0;else if(Ra){y=Math.log2(Math.min(O,P));Za=Array(1+y);Za[0]=va;for(var N=1;N<=y;++N){var la=Math.pow(2,N),W=O/la;la=P/la;var Sa=a.createTexture();b(Sa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,ja,W,la,0,ha,ka,null);b(null);Za[N]=Sa}nb=!0}b(null);u[r]=-1;Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);eb=!0;t.ga&&aa&&(t.ga(aa),t.ga=
null)}}function T(){for(var y=O*P,N=2*y,la=3*y,W=0;W<y;++W)za[0][W]=fb[W],za[1][W]=fb[W+y],za[2][W]=fb[W+N],za[3][W]=fb[W+la]}function ia(){var y=O*P*4;Ha=[new Uint8Array(y),new Uint8Array(y),new Uint8Array(y),new Uint8Array(y)];za=[new Float32Array(Ha[0].buffer),new Float32Array(Ha[1].buffer),new Float32Array(Ha[2].buffer),new Float32Array(Ha[3].buffer)];ob=new Uint8Array(4*y);fb=new Float32Array(ob.buffer);gb=!0}function ya(){Ia.nb=new Uint8Array(O*P*4);Ia.pc=new Float32Array(Ia.buffer);Ia.Db=!0}
var t=Object.assign({},K,g),ua=h++;null===t.isFlipY&&(t.isFlipY=t.url||t.array?!0:!1);t.data&&(t.array="string"===typeof t.data?wa(t.data):t.isFloat?new Float32Array(t.data):new Uint8Array(t.data),t.isFlipY=!1);var xb=0,ac=t.D?!0:!1,hb=null,yb=null,Rb=!1,zb=null;t.N=t.N||t.isFloat;t.N&&(xb=1);!t.Nd&&t.isFloat&&p&&!ea.cc()&&(t.isFloat=!1);t.isFloat&&(xb=2);t.isAnisotropicFiltering&&J&&!JEContext.gf()&&(t.isAnisotropicFiltering=!1);var va=t.uc||a.createTexture(),Na=null,Ca=!1,O=0,P=0,eb=!1,Qb=!1,gb=
!1,za=null,Ha=null,ob=null,fb=null,ja=null,ha=null,ka=null,Ba=t.isFlipY,bc=(g=t.N&&t.isMipmap)&&Ga.ed(),Ra=g&&bc?!0:!1,Za=null,mb=-1,nb=!1,Ia={Db:!1,nb:null,pc:null};t.width&&(O=t.width,P=t.height?t.height:O);var aa={get:function(){return va},C:function(){return O},T:function(){return P},ef:function(){return t.url},hf:function(){return t.isFloat},kf:function(){return t.N},lf:function(){return t.isLinear},wb:function(){a.generateMipmap(a.TEXTURE_2D)},cd:function(y,N){Ra?(y||(y=aa.sc()),M.kb(N),b(Za[y]),
u[N]=-1):aa.j(N)},sc:function(){-1===mb&&(mb=Math.log(O)/Math.log(2));return mb},vd:function(y){if(Ra){y||(y=aa.sc());B.set("s11");M.kb(0);for(var N=O,la=P,W=1;W<=y;++W)N/=2,la/=2,B.Aa("u7",.25/N,.25/la),a.viewport(0,0,N,la),b(Za[W-1]),a.framebufferTexture2D(oa.Qa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Za[W],0),pa.o(!1,1===W);u[0]=-1}else aa.wb()},j:function(y){if(!eb)return!1;M.kb(y);if(u[y]===ua)return!1;b(va);u[y]=ua;return!0},ac:function(y){a.activeTexture(l[y]);r=y;b(va);u[y]=ua},A:function(){w=
aa;a.framebufferTexture2D(oa.Qa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,va,0)},ja:function(){w=aa;a.viewport(0,0,O,P);a.framebufferTexture2D(oa.Qa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,va,0)},Vb:M.Vb,resize:function(y,N){O=y;P=N;C()},clone:function(y){y=M.instance({width:O,height:P,N:t.N,isFloat:t.isFloat,isLinear:t.isLinear,isMirrorY:t.isMirrorY,isFlipY:y?!Ba:Ba,isPot:t.isPot});xa.set("s0");oa.W();y.A();a.viewport(0,0,O,P);aa.j(0);pa.o(!0,!0);return y},oe:function(){a.viewport(0,0,O,P)},remove:function(){a.deleteTexture(va);
Qb=!0;n.splice(n.indexOf(aa),1);aa=null},refresh:function(){aa.ac(0);Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);ac?a.texImage2D(a.TEXTURE_2D,0,ja,ha,a.UNSIGNED_BYTE,t.D):a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,Ca);Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},fe:function(){gb||ia();a.readPixels(0,0,O,4*P,a.RGBA,a.UNSIGNED_BYTE,ob);T();return za},ee:function(){gb||ia();return Qa.Mb(0,0,O,4*P,ob).then(function(){T();return za})},he:function(){Ia.Db||ya();a.readPixels(0,0,O,P,a.RGBA,a.UNSIGNED_BYTE,
Ia.nb);return Ia.pc},ge:function(){Ia.Db||ya();return Qa.Mb(0,0,O,P,Ia.nb)},ec:function(y){oa.P();B.set("s12");aa.j(0);if(y)a.viewport(0,0,O,P),B.Ba("u8",.25,.25,.25,.25),pa.o(!1,!0);else for(y=0;4>y;++y)a.viewport(0,P*y,O,P),B.Ba("u8",F[y]),pa.o(!1,0===y)},Vc:function(y){var N=ka===d[0]&&!q();b(va);Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);N?(Rb||(hb=document.createElement("canvas"),hb.width=O,hb.height=P,yb=hb.getContext("2d"),zb=yb.createImageData(O,P),Rb=!0),zb.data.set(y),yb.putImageData(zb,
0,0),a.texImage2D(a.TEXTURE_2D,0,ja,ha,ka,hb)):a.texImage2D(a.TEXTURE_2D,0,ja,O,P,0,ha,ka,y);u[r]=ua;Ba&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Mf:function(y,N){b(va);N&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,ja,ha,ka,y);u[r]=ua;N&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},zf:function(y,N){var la=O*P,W=4*la;y=t.N?y?"RGBE":"JSON":"RGBA";N&&(y=N);N=ea.aa()&&!1;var Sa=null;switch(y){case "RGBE":Sa="s42";break;case "JSON":Sa=N?"s0":"s12";break;case "RGBA":case "RGBAARRAY":Sa=
"s6"}gb||("RGBA"===y||"RGBE"===y||"RGBAARRAY"===y?(Ha=new Uint8Array(W),gb=!0):"JSON"!==y||N||ia());oa.P();B.set(Sa);aa.j(0);W=null;if("RGBA"===y||"RGBE"===y||"RGBAARRAY"===y){a.viewport(0,0,O,P);pa.o(!0,!0);a.readPixels(0,0,O,P,a.RGBA,a.UNSIGNED_BYTE,Ha);if("RGBAARRAY"===y)return{data:Ha};X||(R=document.createElement("canvas"),V=R.getContext("2d"),X=!0);R.width=O;R.height=P;la=V.createImageData(O,P);la.data.set(Ha);V.putImageData(la,0,0);W=R.toDataURL("image/png")}else if("JSON"===y)if(N)W=new Float32Array(la),
a.viewport(0,0,O,P),pa.o(!0,!0),a.readPixels(0,0,O,P,a.RGBA,a.FLOAT,W);else{for(W=0;4>W;++W)a.viewport(0,P*W,O,P),B.Ba("u8",F[W]),pa.o(!W,!W);aa.tf();W=Array(la);for(N=0;N<la;++N)W[4*N]=za[0][N],W[4*N+1]=za[1][N],W[4*N+2]=za[2][N],W[4*N+3]=za[3][N]}return{format:y,data:W,width:O,height:P,isMirrorY:t.isMirrorY,isFlipY:"RGBA"===y?t.isFlipY:!t.isFlipY}}};t.isMipmap&&!Ra&&eb&&!nb&&(aa.wb(),nb=!0);if(t.url)b(va),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null),Na=new Image,Na.Fe="Anonymous",
Na.crossOrigin="Anonymous",Na.src=t.url,Na.onload=function(){O=Na.width;P=Na.height;C()};else if(t.D){var Sb=function(){O=void 0!==t.D.videoWidth?t.D.videoWidth:t.D.width;P=void 0!==t.D.videoHeight?t.D.videoHeight:t.D.height;O?C():setTimeout(Sb,1)};Sb()}else t.array?(t.N&&!t.isFloat?t.array instanceof Uint16Array?(Ca=t.array,C()):f()?(Ca=e(t.array),C()):(C(),M.nc(a,va,aa.C(),aa.T(),t.array,Ba,!0)):(Ca=t.isFloat?t.array instanceof Float32Array?t.array:new Float32Array(t.array):t.array instanceof Uint8Array?
t.array:new Uint8Array(t.array),C()),t.isKeepArray||(Ca&&Ca!==t.array&&(Ca=null),delete t.array)):t.uc?eb=!0:C();aa.af=aa.C;t.ga&&eb&&(t.ga(aa),t.ga=null);n.push(aa);return aa},P:function(g){g!==r&&(a.activeTexture(l[g]),r=g);u[g]=-1;b(null)},ye:function(g){x.random.j(g)},Vb:function(){w=null;a.framebufferTexture2D(oa.Qa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)},reset:function(){0!==r&&a.activeTexture(l[0]);for(var g=0;g<l.length;++g)u[g]=-1;r=-1},yf:function(){r=-1},re:function(){for(var g=0;g<
l.length;++g)M.P(g)},qc:function(){x&&(x.random.remove(),x.Uc.remove())},Kf:function(g,G){if("RGBA"===g.format||"RGBE"===g.format){var C=new Image;C.src=g.data;C.onload=function(){M.instance({isMirrorY:g.isMirrorY,isFlipY:g.isFlipY,isFloat:!1,D:C,ga:function(T){if("RGBA"===g.format)G(T);else{var ia=g.width,ya=g.height,t=M.instance({isMirrorY:g.isMirrorY,isFloat:!0,width:ia,height:ya,isFlipY:g.isFlipY});oa.W();a.viewport(0,0,ia,ya);B.set("s43");t.A();T.j(0);pa.o(!0,!0);M.P(0);G(t);a.flush();setTimeout(T.remove,
50)}}})}}else"JSON"===g.format?G(M.instance({isFloat:!0,isFlipY:g.isFlipY,width:g.width,height:g.height,array:new Float32Array(g.data)})):G(!1)},jd:e,u:function(){w&&(Fa.W(),M.Vb(),Fa.P());M.re();n.slice(0).forEach(function(g){g.remove()});n.splice(0);E=!1;h=0;"undefined"!==typeof Ga&&Ga.u();x=null}};return M}(),pa=function(){function b(h){var u={Y:null,J:null};u.Y=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,u.Y);h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),h.STATIC_DRAW);u.J=
h.createBuffer();h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,u.J);h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),h.STATIC_DRAW);return u}var c=null,e=0,f=!1,q=[],k=-2,r=-2,l={reset:function(){r=k=-2},B:function(){f||(c=b(a),l.mb(),f=!0)},instance:function(h){var u=e++,x=h.J?h.J.length:0,w="undefined"===typeof h.mode?a.STATIC_DRAW:h.mode,d=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,d);a.bufferData(a.ARRAY_BUFFER,h.Y instanceof Float32Array?h.Y:new Float32Array(h.Y),w);k=u;var v=null,A=null,
E=null;if(h.J){v=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,v);var n=null;65536>h.J.length?(n=Uint16Array,A=a.UNSIGNED_SHORT,E=2):(n=Uint32Array,A=a.UNSIGNED_INT,E=4);n=h.J instanceof n?h.J:new n(h.J);a.bufferData(a.ELEMENT_ARRAY_BUFFER,n,w);r=u}var K={dd:function(X){k!==u&&(a.bindBuffer(a.ARRAY_BUFFER,d),k=u);X&&xa.Ob()},ad:function(){r!==u&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,v),r=u)},bind:function(X){K.dd(X);K.ad()},He:function(){a.drawElements(a.TRIANGLES,x,A,0)},Ie:function(X,R){a.drawElements(a.TRIANGLES,
X,A,R*E)},remove:function(){a.deleteBuffer(d);h.J&&a.deleteBuffer(v);K=null}};q.push(K);return K},mb:function(){-1!==k&&(a.bindBuffer(a.ARRAY_BUFFER,c.Y),k=-1);-1!==r&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.J),r=-1)},o:function(h,u){h&&pa.mb();u&&xa.eb();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,0)},Na:function(h){h=h||a;var u=b(h);h.bindBuffer(h.ARRAY_BUFFER,u.Y);h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,u.J);xa.fb(h);h.clear(h.COLOR_BUFFER_BIT);h.drawElements(h.TRIANGLES,3,h.UNSIGNED_SHORT,0);h.flush();
h.bindBuffer(h.ARRAY_BUFFER,null);h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null);h.deleteBuffer(u.Y);h.deleteBuffer(u.J);l.reset();f&&(l.mb(),xa.eb())},qc:function(){var h=a,u=c;h.deleteBuffer(u.Y);h.deleteBuffer(u.J)},u:function(){l.qc();q.forEach(function(h){h.remove()});a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);l.reset();f=!1;q.splice(0);e=0}};return l}(),oa=function(){var b=null,c=null,e=null,f=!1,q=[],k={F:-2,mc:1},r={Ta:function(){return f},B:function(){if(!f){b=
a.createFramebuffer();var l=ea.aa();c=l&&a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER;e=l&&a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;f=!0}},Ue:function(){return c},Cd:function(){return e},Qa:function(){return a.FRAMEBUFFER},$e:function(){return k},Le:function(){return b},instance:function(l){void 0===l.yc&&(l.yc=!1);var h=l.H?l.H:null,u=l.width,x=void 0!==l.height?l.height:l.width,w=b,d=null,v=!1,A=!1,E=0;h&&(u=u?u:h.C(),x=x?x:h.T());var n={Rc:function(){v||(w=a.createFramebuffer(),
v=!0,E=k.mc++)},Yc:function(){n.Rc();n.A();d=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,d);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,u,x);a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,d);a.clearDepth(1)},bind:function(K,X){E!==k.F&&(a.bindFramebuffer(c,w),k.F=E);h&&h.A();X&&a.viewport(0,0,u,x);K&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},xe:function(){E!==k.F&&(a.bindFramebuffer(c,w),k.F=E)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},
Ce:function(){a.clear(a.COLOR_BUFFER_BIT)},De:function(){a.clear(a.DEPTH_BUFFER_BIT)},oe:function(){a.viewport(0,0,u,x)},A:function(){E!==k.F&&(a.bindFramebuffer(c,w),k.F=E)},rtt:function(K){h=K;k.F!==E&&(a.bindFramebuffer(a.FRAMEBUFFER,w),k.F=E);K.A()},P:function(){a.bindFramebuffer(c,null);k.F=-1},resize:function(K,X){u=K;x=X;d&&(a.bindRenderbuffer(a.RENDERBUFFER,d),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,u,x))},remove:function(){w===b||A||(a.bindFramebuffer(c,w),a.framebufferTexture2D(c,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),d&&a.framebufferRenderbuffer(c,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,null),a.bindFramebuffer(c,null),a.deleteFramebuffer(w),d&&a.deleteRenderbuffer(d));A=!0}};l.yc&&n.Yc();q.push(n);return n},P:function(){a.bindFramebuffer(c,null);k.F=-1},se:function(){a.bindFramebuffer(c,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,ea.C(),ea.T());k.F=-1},reset:function(){k.F=-2},W:function(){0!==k.F&&(a.bindFramebuffer(c,b),k.F=0)},clear:function(){a.viewport(0,
0,ea.C(),ea.T());a.clear(a.COLOR_BUFFER_BIT)},u:function(){r.P();q.forEach(function(l){l.remove()});a.deleteFramebuffer(b);r.reset();f=!1;q.splice(0);k.F=-2;k.mc=1}};return r}(),ea=function(){function b(){e="undefined"===typeof Qa?JEContext:Qa;f=!0}function c(d,v){for(var A=0;A<d.length;++A){var E=v.getExtension(d[A]);if(E)return E}return null}var e=null,f=!1,q={Ac:!1,Qb:null,Rb:null,Cc:!1,Qd:!1,Sb:null,Dc:!1,Tb:null,Bc:!1,pb:null,Kd:!1,qb:null,Ld:!1},k=null,r={Z:!0,$:!0,vb:!0,Lc:!1},l=null,h=null,
u=null,x="undefined"===typeof window?{}:window,w={B:function(){if(f)return!0;w.reset();f||b();var d=a;if(!k.Ac){k.Qb=w.jc(d);x.GL_EXT_FLOAT=k.Qb;k.Cc=k.Qb?!0:!1;if(k.Cc||w.aa())k.Rb=w.kc(d),k.Qd=k.Rb?!0:!1,x.GL_EXT_FLOATLINEAR=k.Rb;k.Ac=!0}if(!k.Bc){k.Sb=w.Ma(d);k.Sb&&(k.Dc=!0,x.GL_EXT_HALFFLOAT=k.Sb);if(k.Dc||w.aa())k.Tb=w.lc(d),x.GL_EXT_HALFFLOATLINEAR=k.Tb;k.ff=k.Tb?!0:!1;k.Bc=!0}k.pb=w.hc(d);k.Kd=k.pb?!0:!1;x.GL_EXT_COLORBUFFERFLOAT=k.pb;k.qb=w.ic(d);k.Ld=k.qb?!0:!1;x.GL_EXT_COLORBUFFERHALFFLOAT=
k.qb;oa.B();Oa.B();if(!w.md())return!1;pa.B();Oa.Jd();return!0},reset:function(){k=Object.assign({},q);l=Object.assign({},r)},C:function(){f||b();return e.C()},T:function(){f||b();return e.T()},aa:function(){f||b();return e.aa()},fc:function(d){w.hc(d);w.ic(d);w.jc(d);w.kc(d);w.Ma(d);w.lc(d)},hc:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),ic:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),jc:c.bind(null,
["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),kc:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),Ma:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),lc:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),xb:function(d){var v=w.Ma(d);return v&&v.HALF_FLOAT_OES?v.HALF_FLOAT_OES:d.HALF_FLOAT||d.FLOAT},
zd:function(){return u||a.RGBA32F||a.RGBA},Ad:function(){return h||a.RGBA16F||a.RGBA},xd:function(){return l},cc:function(){return l.Z},Ae:function(){return l.$},ze:function(){return l.vb},fd:function(){return l.Lc},gb:function(d,v,A){function E(){d.bindTexture(d.TEXTURE_2D,null);d.bindFramebuffer(n,null);d.deleteTexture(R);d.deleteFramebuffer(X)}var n=d.FRAMEBUFFER,K=d.NEAREST,X=d.createFramebuffer();d.bindFramebuffer(n,X);var R=d.createTexture();d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,
R);d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!1);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,K);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,K);d.texImage2D(d.TEXTURE_2D,0,v,3,3,0,d.RGBA,A,null);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,R,0);if(d.checkFramebufferStatus(d.READ_FRAMEBUFFER||d.FRAMEBUFFER)!==d.FRAMEBUFFER_COMPLETE)return E(),!1;
xa.Nb(d);d.clearColor(0,0,0,0);d.viewport(0,0,3,3);d.disable(d.DEPTH_TEST);d.clear(d.COLOR_BUFFER_BIT);pa.Na(d);d.bindFramebuffer(n,null);xa.za(d);d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,R);pa.Na(d);v=new Uint8Array(36);d.readPixels(0,0,3,3,d.RGBA,d.UNSIGNED_BYTE,v);E();for(A=0;36>A;++A)if(3!==A%4&&3<Math.abs(v[A]-127))return!1;return!0},tb:function(d){var v={Z:!1,$:!1};d.disable(d.BLEND);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.RGBA32F&&w.gb(d,d.RGBA32F,d.FLOAT)&&(v.Z=!0,
u=d.RGBA32F);!v.Z&&w.gb(d,d.RGBA,d.FLOAT)&&(v.Z=!0,u=d.RGBA);var A=w.xb(d);h=null;d.RGBA16F&&w.gb(d,d.RGBA16F,A)&&(v.$=!0,h=d.RGBA16F);!v.$&&w.gb(d,d.RGBA,A)&&(v.$=!0,h=d.RGBA);return v},nd:function(){var d=oa.instance({width:2});d.Rc();var v=Oa.instance({width:2,isFloat:!0,Wa:3});d.A();v.A();a.flush();a.checkFramebufferStatus(oa.Cd())!==a.FRAMEBUFFER_COMPLETE?(Oa.ke(),l.vb=!1):l.vb=!0;d.remove();v.remove()},od:function(){var d=!1;w.aa()&&(d="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(v){return"undefined"!==
typeof a[v]}));l.Lc=d},md:function(){var d=w.tb(a);Object.assign(l,d);if(!l.Z&&!l.$)return!1;w.nd();w.od();return!0},u:function(){Oa.u();xa.u();oa.u();pa.u();f=!1}};return w}(),da=pa,Fa=oa,Z=Oa,Ga=function(){function b(F,J,p,m){n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,m?n.NEAREST_MIPMAP_NEAREST:n.LINEAR);var z=null;if(null!==p)try{z=n.getError();if("FUCKING_BIG_ERROR"===z)return!1;n.texImage2D(n.TEXTURE_2D,0,F,4,4,0,n.RGBA,J,p);z=n.getError();if(z!==n.NO_ERROR)return!1}catch(I){return!1}m&&
n.generateMipmap(n.TEXTURE_2D);n.clear(n.COLOR_BUFFER_BIT);da.Na(n);z=n.getError();if("FUCKING_BIG_ERROR"===z)return!1;n.readPixels(0,0,2,2,n.RGBA,n.UNSIGNED_BYTE,x);z=n.getError();z===n.INVALID_OPERATION&&"undefined"!==typeof n.PIXEL_PACK_BUFFER&&(n.bindBuffer(n.PIXEL_PACK_BUFFER,null),n.readPixels(0,0,2,2,n.RGBA,n.UNSIGNED_BYTE,x),z=n.getError());if(z!==n.NO_ERROR)return!1;p=!0;for(m=0;16>m;++m)p=p&&4>Math.abs(x[m]-127);p&&(h.Kc=J,h.xc=F);return p}function c(F,J){return K.Z&&b(F,n.FLOAT,new Float32Array(w),
J)?(l=r.Yb,!0):!1}function e(F,J,p){if(!K.$)return!1;var m=Oa.jd(w),z=ea.Ma(n);if(z&&z.HALF_FLOAT_OES&&b(F,z.HALF_FLOAT_OES,m,J)||n.HALF_FLOAT&&b(F,n.HALF_FLOAT,m,J))return l=r.pa,!0;m=new Float32Array(w);if(b(F,n.FLOAT,m,J))return l=r.pa,!0;n.bindTexture(n.TEXTURE_2D,p);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,2,2,0,n.RGBA,n.UNSIGNED_BYTE,null);n.bindFramebuffer(h.Ka,V);Oa.nc(n,p,2,2,m,!1,!1);n.bindFramebuffer(h.Ka,null);n.bindTexture(n.TEXTURE_2D,p);return b(F,null,null,J)?(l=r.pa,!0):!1}function f(F,
J,p){u=!0;if(e(F,!0,p)||c(J,!0))return!0;u=!1;return e(F,!1,p)||c(J,!1)?!0:!1}function q(F){if(l===r.R){n=F||a;l=r.RGBA8;u=!0;ea.fc(n);K||(K=ea.tb(n));Fa.reset();V=n.createFramebuffer();h.Ka=n.DRAW_FRAMEBUFFER||n.FRAMEBUFFER;n.bindFramebuffer(h.Ka,null);n.clearColor(0,0,0,0);n.viewport(0,0,2,2);B.R();X=B.za(n);F=n.createTexture();n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,F);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);R=F;var J=F=n.RGBA,p=n.RGBA16F,m=n.RGBA32F;m&&(F=m);p&&(J=p);if((p||m)&&f(J,F,R))return k(),!0;F=J=n.RGBA;if(f(J,F,R))return k(),!0;l=r.RGBA8;k();return!1}}function k(){n.deleteProgram(X.ia);n.deleteTexture(R);R=X=null}for(var r={R:-1,Yb:3,pa:2,RGBA8:0},l=r.R,h={Kc:null,xc:null,Ka:null},u=!0,x=new Uint8Array(16),w=Array(64),d=0;4>d;++d)for(var v=0;4>v;++v){var A=0===(v+d)%2?1:0,E=4*d+v;w[4*E]=A;w[4*E+1]=A;w[4*E+2]=A;w[4*E+3]=A}var n=null,
K=null,X=null,R=null,V=null;return{ed:function(F){q(F);return u},bc:function(F,J){l===r.R&&(typeof("undefined"!==J)&&(K=J),q(F));return l!==r.RGBA8},jf:function(F){q(F);return l===r.Yb},Sd:function(F){q(F);return l===r.pa},Ve:function(F){q(F);return h.Kc},Bd:function(F){q(F);return h.xc},u:function(){n=null;u=!0;l=r.R;K=null}}}(),cc=function(){return{instance:function(b){var c=Z.instance(b.alpha),e=Z.instance(b.beta);return{rd:function(){c.j(1);e.j(2)}}}}}(),Ub=function(){return{instance:function(b){var c=
null,e=!1,f=!1,q=null,k=!1,r=!1,l=null,h="undefined"===typeof b.preprocessing?!1:b.preprocessing,u="undefined"===typeof b.preprocessingSize?b.size:b.preprocessingSize;b.mask&&(e=!0,SETTINGS&&void 0!==SETTINGS.$c&&(b.mask=SETTINGS.$c+b.mask),c=Z.instance({isFloat:!1,url:b.mask}));var x=!1;b.customInputShader&&(x="s44",B.Zb({name:"_",id:x,g:b.customInputShader,Jf:["uSource"],precision:"lowp"}),B.K(x,[{type:"1i",name:"_",value:0}]));switch(h){case "sobel":l="s31";k=!0;break;case "meanNormalization":l=
"s32";k=!0;break;case "grayScale":l="s28";k=!1;break;case "grayScaleTilt":l="s29";r=!0;k=!1;break;case "rgbGrayTilt":l="s30";r=!0;k=!1;break;case "copy":l=x?x:"s0";break;case "inputLightRegulation":l=x?x:"s28";q=dc.instance({wc:u,Jc:b.size,Fc:b.nBlurPass,Rd:!1});f=!0;break;case "direct":case "none":l=!1;break;default:l="s3"}r&&B.K(l,[{name:"u26",type:"1f",value:b.tilt}]);e&&(l+="Mask");var w=Z.instance({isFloat:!1,isPot:!1,width:b.size}),d={C:function(){return u},yb:function(){return d.C()},Gd:function(){return f?
q.tc():w},L:function(){Fa.W();l&&(B.set(l),k&&B.U("u27",1/b.size),w.ja(),e&&c.j(1),da.o(!1,!1),w.j(0),f&&q.process(w))},u:function(){w.remove();e&&c.remove()}};return d}}}(),Vb=function(){return{instance:function(b){function c(g){q.forEach(function(G,C){k[C][0]=g[0][G];k[C][1]=g[1][G];k[C][2]=g[2][G];k[C][3]=g[3][G]});return k}"undefined"===typeof b.normalize&&(b.normalize=!1);var e={input:null,Ga:null,Cb:null,X:null,$a:null,Jb:null,Kb:null},f=null,q=[],k=[],r=!1,l=null,h=!0,u=-1,x=b.isReorganize?
b.isReorganize:!1,w=b.kernelsCount?!0:!1,d=b.dynPelu?cc.instance(b.dynPelu):!1,v=d?!0:!1,A={isEnabled:!1};b.Pd?(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.bb.yb(),h=!1):"full"===b.connectivityUp&&(b.sparsity=b.bb.yb());var E={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[b.activation],n=b.sparsity*b.sparsity,K=!1,X=b.size,R="";if(b.maxPooling){switch(b.maxPooling.size){case 2:R="s33";break;case 4:R="s34"}K=!0;X/=b.maxPooling.size;
e.Jb=Z.instance({isFloat:!0,isPot:!1,width:X})}var V=void 0!==b.Xd&&b.Xd?!0:!1,F=null,J=null,p=null;if(V){F="s45"+b.index.toString();B.vc("s45",F,[((b.normalization.n-1)/2).toFixed(1)]);B.K(F,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},{type:"1f",name:"u31",value:b.normalization.k}]);var m={isFloat:!0,isPot:!0,width:b.size};J=Z.instance(m);p=Z.instance(m)}var z=-1,
I=null;h&&(e.X=Z.instance({isFloat:!0,isPot:!1,width:b.size}));e.Ga=Z.instance(b.bias);var M={C:function(){return b.size},yb:function(){return X},rc:function(){return b.classesCount},bd:function(g){f.j(g)},ae:function(){b.remap&&b.remap.isEnabled&&(A={isEnabled:!0,Ud:Z.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,isPot:!1}),Ua:b.remap.layers.map(function(g){return b.parent.Ed(g)}),depth:b.remap.depth})},le:function(){switch(b.connectivityUp){case "direct":I=
ec.instance(b.connectivity);break;case "square":I=fc.instance(b.connectivity);break;case "squareFast":I=gc.instance(b.connectivity,b.activation);break;case "full":I=hc.instance(b.connectivity);break;case "conv":u=b.kernelsCount,I=ic.instance(b.connectivity),x&&(e.$a=Z.instance({width:X,isFloat:!0,isFlipY:!1,isPot:!1}))}if(I.na){var g=b.size*b.sparsity;z=Math.log(g/b.size)/Math.log(2);e.input=Z.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:g,Fb:z});e.Cb=Z.instance({isFloat:!0,isPot:!0,width:b.size})}},
L:function(g,G){f=g;I.na?(e.input.ja(),w&&e.Ga.j(2),I.L(A),e.input.j(0),e.input.vd(z),e.Cb.ja(),w?B.set("s0"):(B.set("s27"),B.U("u25",n),e.Ga.j(1)),e.input.cd(z,0),da.o(!1,!1),B.set(E),V?J.A():e.X.A(),e.Cb.j(0),v&&d.rd(),da.o(!1,!1)):(e.X.ja(),e.Ga.j(1),I.L());V&&(B.set(F),p.A(),J.j(0),da.o(!1,!1),B.set("s46"),B.U("u6",1),e.X.A(),p.j(1),da.o(!1,!1));if(h)return K?(e.Jb.ja(),e.X.j(0),B.set(R),B.Aa("u7",1/b.size,1/b.size),da.o(!1,!1),G=e.Jb):G=e.X,G.j(0),x&&(e.$a.A(),B.set("s21"),B.Aa("u12",u,X/u),
da.o(!1,!1),G=e.$a,e.$a.j(0)),G;var C=e.X;b.normalize&&(B.set("gpuRawAvg"===r?"s8":"s7"),B.U("u4",1/b.size),e.Kb.ja(),e.X.j(0),da.o(!1,!1),C=e.Kb);g=null;switch(r){case "cpuRGBA2Float":C.ec(!1);G?g=M.ce(C).then(l):(C=M.de(C),l(C));break;case "cpuMeanFloat":C.ec(!0);G?g=C.ge().then(l):(C=C.he(),l(C));break;case "gpuRawAvg":case "gpuRaw":C.j(0);case "none":null!==l&&l(C)}G&&null===g&&(g=Promise.resolve());return g},kd:function(g){g&&(r=g.Lb||"none",l=g.Ib||null);e.X=Z.instance({isFloat:!0,isPot:!0,
isMipmap:!1,width:b.size});g="undefined"!==typeof b.classesCount&&b.classesCount?b.classesCount:b.size*b.size;for(var G=0,C=0,T=0;G<g;++G)q.push(C+(b.size-1-T)*b.size),k.push([-1,-1,-1,-1]),++C,C===b.size&&(C=0,++T);b.normalize&&(e.Kb=Z.instance({isFloat:!0,isPot:!0,width:b.size}))},ce:function(g){return g.ee().then(c)},de:function(g){g=g.fe();c(g);return k},u:function(){for(var g in e){var G=e[g];G&&G.remove()}I&&(I.u(),I=null)}};b.bb&&M.le(b.bb);return M}}}(),ec=function(){return{instance:function(b){var c=
Z.instance(b.weights);return{na:!0,Pa:function(){return 1},u:function(){c.remove()},Id:function(){return c},L:function(){B.set("s26");c.j(1);da.o(!1,!1)}}}}}(),hc=function(){return{instance:function(b){var c=b.fromLayerSize,e=Z.instance(b.weights);return{na:!0,Pa:function(){return c},u:function(){e.remove()},L:function(f){if(f.isEnabled){B.set("s24");f.Ud.j(3);var q,k=Math.min(f.Ua.length,f.depth);for(q=0;q<k;++q)f.Ua[q].bd(4+q)}else B.set("s23");B.U("u16",b.toLayerSize);e.j(1);da.o(!1,!1)}}}}}(),
fc=function(){return{instance:function(b){for(var c=b.fromLayerSize,e=b.toLayerSize,f=b.toSparsity,q=f*e,k=q/c,r=c/e,l=0,h=0,u=0,x=Array(f*e*f*e*4),w=Array(f*e*f*e*4),d=Array(c*c),v=0;v<d.length;++v)d[v]=0;v=Math.floor(f/2);for(var A=.5/e,E=.5/c,n=.5/q,K=0;K<e;++K)for(var X=Math.round(K*r),R=0;R<e;++R){var V=Math.round(R*r),F=K/e,J=R/e;F+=A;J+=A;for(var p=0;p<f;++p){var m=X+p-v;0>m&&(m+=c);m>=c&&(m-=c);for(var z=0;z<f;++z){var I=l/q,M=h/q,g=V+z-v;0>g&&(g+=c);g>=c&&(g-=c);var G=m/c,C=g/c;M=1-M-1/q;
G+=E;C+=E;I+=n;M+=n;var T=K*f+p,ia=R*f+z;ia=e*f-ia-1;T=ia*e*f+T;x[4*T]=I;x[4*T+1]=M;x[4*T+2]=G;x[4*T+3]=C;C=d[g*c+m]++;T=C%k;G=m*k+T;g=g*k+(C-T)/k;g=c*k-1-g;g=g*c*k+G;w[4*g]=I;w[4*g+1]=M;w[4*g+2]=F;w[4*g+3]=J;++l>=q&&(l=0,++h);++u}}}d=null;var ya=Z.instance(b.weights);delete b.weights.data;var t=Z.instance({width:q,isFloat:!0,array:new Float32Array(w),isPot:!0});w=null;var ua=Z.instance({width:q,isFloat:!0,array:new Float32Array(x),isPot:!0});x=null;return{na:!0,Pa:function(){return k},u:function(){t.remove();
ua.remove();ya.remove()},L:function(){B.set("s22");ya.j(1);ua.j(2);da.o(!1,!1)}}}}}(),ic=function(){return{instance:function(b){var c=b.kernelsCount,e=b.toSparsity,f=e*b.toLayerSize/b.fromLayerSize,q=Z.instance(b.weights);return{na:!0,Pa:function(){return f},cf:function(){return e},Id:function(){return q},u:function(){q.remove()},L:function(){B.set("s25");B.U("u22",c);B.U("u23",e);B.U("u16",b.toLayerSize);B.U("u24",b.fromLayerSize);q.j(1);da.o(!1,!1)}}}}}(),gc=function(){return{instance:function(b,
c){var e=b.fromLayerSize,f=b.toLayerSize,q=b.toSparsity,k=b.stride?b.stride:1,r=q*f/e,l=f<e,h=e/f,u=Z.instance(b.weights),x="s47"+[e.toString(),f.toString(),q.toString(),k.toString(),c].join("_");B.ud(x)||(b=$b.wd(c,"gl_FragColor","gl_FragColor"),f=[{type:"1f",name:"u16",value:f},{type:"1f",name:"u30",value:k}],l&&f.push({type:"1f",name:"u24",value:e}),e=[(l?r:q).toFixed(1),b],l&&e.push(h.toFixed(1)),B.vc(l?"s39":"s38",x,e),B.K(x,f.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},
{type:"1i",name:"u13",value:3}])));return{na:!1,Pa:function(){return r},u:function(){u.remove()},L:function(){B.set(x);u.j(3);da.o(!1,!1)}}}}}(),dc=function(){return{instance:function(b){var c=b.Fc?b.Fc:3,e=b.wc?b.wc:64,f=b.Jc?b.Jc:64,q=b.Rd?!0:!1;b={isFloat:!1,width:e,isPot:!1,isFlipY:!1};var k=Z.instance(b),r=Z.instance(b),l=Z.instance(b),h=Z.instance(b),u=Z.instance({isFloat:!0,width:f,isPot:!1,isFlipY:!1}),x=1/e;return{process:function(w){B.set("s35");h.A();da.o(q,!1);B.set("s36");for(var d=0;d<
c;++d)k.A(),B.Aa("u7",x,0),da.o(q,!1),l.A(),h.j(0),da.o(q,!1),r.A(),k.j(0),B.Aa("u7",0,x),da.o(q,!1),h.A(),l.j(0),da.o(q,!1),d!==c-1&&r.j(0);B.set("s37");u.A();w.j(0);r.j(1);h.j(2);da.o(q,!1);u.j(0)},tc:function(){return u}}}}}(),Eb=function(){var b={Gc:4,ab:[1.5,1.5,2],M:[.1,.1,.1],Oc:1,S:-1,O:-1,pe:2,Yd:1,Pc:!0,sd:.8},c=null,e=[],f=0,q=[.5,.5,1];return{B:function(k){c=Object.assign({},b,k);e.splice(0);k=c.ab[0]*c.M[0];var r=c.ab[1]*c.M[1],l=1/(1+c.ab[2]*c.M[2]),h=c.Oc*Math.min(c.S,c.O),u=h/c.S;
h/=c.O;var x=.5*c.sd;x*=x;for(var w=0;w<c.Gc;++w){var d=Math.pow(l,w),v=u*d,A=h*d;d=v*k;var E=A*r,n=v/2;A/=2;for(var K=1+(1-n-n)/d,X=1+(1-A-A)/E,R=0;R<X;++R)for(var V=A+R*E,F=V-.5,J=0;J<K;++J){var p=n+J*d,m=p-.5;m*m+F*F>x||e.push([p,V,v*c.Yd])}}c.Pc&&e.sort(function(z,I){var M=z[0]-.5;z=z[1]-.5;var g=I[0]-.5;I=I[1]-.5;return M*M+z*z-(g*g+I*I)})},get:function(){var k=e.length;if(0===k)return q;f>=k&&(f=0);var r=e[Math.floor(f)];f=(f+1/c.pe)%k;return r}}}(),vb=function(){var b={n:5,Gb:1,Td:0,Oa:[30,
45],La:[2,200],k:.7,te:200,Zd:.05},c=-1,e=null,f=-1,q=-1,k=0,r=-1,l=-1,h=0,u=0,x=b.La[1],w={Fd:function(){switch(c){case -1:return-1;case 0:return l+e.Td;case 1:return h}},Ne:function(d){return Math.pow(Math.min(Math.max(r,0),e.n-1)/(e.n-1),d||1)},B:function(d){e=Object.assign({},b,d);r=l=e.Gb;c=0;w.reset()},qe:function(d){d=("undefined"===typeof d?Date.now():d)||0;var v=Math.min(Math.max(d-u,e.La[0]),e.La[1]);x=v;u=d;var A=-1===f?0:e.k;f=Math.min(Math.max(1E3/v,5),120)*(1-A)+f*A;d-q>e.te&&5<++k&&
(v=e.k,r=r*(1-v)+(f<e.Oa[0]?l-1:f>e.Oa[1]?l+1:l)*v,Math.abs(r-l)>1-e.Zd&&(v=Math.min(Math.max(Math.round(r),0),e.n-1),v!==l&&(r=l=v,f=(e.Oa[1]-e.Oa[0])/2)),q=d)},Af:function(d){h=d;c=1},Lf:function(){c=0;w.reset()},reset:function(){x=b.La[1];q=f=-1;k=0},Se:function(){return x}};return w}(),ca={Ha:512,M:[.05,.05,.15],ie:{nScaleLevels:3,scale0Factor:.8,overlapFactors:[2,2,3],scanCenterFirst:!0,scaleXRange:[1/15,.9]},Vd:3,Ub:.68,Za:10,Va:.03,ha:8,hb:-.02,Ia:.02,Ca:.7,Xa:20,Ja:.3,Ea:[.02,10],Ya:[1,6],
Wd:3},La=Object.create(ca.ie),tb=0,Fb=0,ub=!1,U={width:-1,Eb:!0,va:!1,Sa:!1,Nc:null,Pb:!1,pitchRange:null,M:ca.M},Pa=null,ta=null,Ya=!1,Ta=!1,Da=0,bb=null,D=null,jc={aspectRatio:1,Bb:1,la:[1,1],S:0,O:0,da:0,ca:0,ua:"s49",I:{ta:[0,0],scale:[1,1]}},Q={H:null,m:[0,0,0,0]},fa={fa:-2,LOADING:-1,qa:0,jb:1,Xb:2,Fa:3},qa=fa.fa,Wa={fa:-2,LOADING:1,IDLE:0},db=Wa.fa,Ea=null;var Gb=ba=0;var cb=-1;var Y={n:0,Hc:0,Hb:0,G:-1,V:[0,0]},Xa={video:0,Wc:1},Ma={undefined:0,video:1,dc:2,ub:3},L=null,kc={current:Xa.video,
element:null,H:null,ma:!1,type:Ma.undefined,time:-1,ka:null},Ob=!1,ma={distance:0,label:!1,positionScale:[0,0,0,0],detectScore:0,yaw:0,pitch:0,roll:0},sb=1,Zb={cutShader:null,thresholdDetectFactor:1,thresholdDetectFactorUnstitch:1,isSkipConfirmation:!1,isKeepTracking:!1,trackingFactors:[2,2,2],secondNeighborFactor:ca.Ca,nLocateAutomoves:ca.Za,locateMoveNoiseAmplitude:ca.Va,nConfirmAutoMoves:ca.ha,nConfirmUnstitchMoves:ca.Xa,confirmMoveNoiseAmplitude:ca.Ia,thresholdConfirmOffset:ca.hb,tiltPosAngleIfAmbiguousDetection:ca.Ea,
confirmScoreMinFactorDuringAutoMove:ca.Ja},na={},S={ib:1,Sc:1,xa:!1,Ra:!1,Tc:null,Ca:ca.Ca,Za:-1,Va:-1,ha:-1,hb:-1,Ia:-1,Xa:-1,Ea:null,Ja:-1},Ib=[{type:"1f",name:"u32",value:0}],lb={VERSION:"1.2.3",init:function(b){function c(e){b.callbackReady&&b.callbackReady(e)}if(qa!==fa.fa)return c("ALREADY_INITIALIZED");qa=fa.LOADING;D=Object.assign({},jc);L=Object.assign({},kc);if("undefined"!==typeof b.canvas)ta=b.canvas,Ya=!1;else if("undefined"===typeof b.canvasId)ta=document.createElement("canvas"),Ya=
!1;else{ta=document.getElementById(b.canvasId);if(!ta)return c("INVALID_CANVASID"),!1;Ya=!0}"undefined"!==typeof b.isDebugRender&&(Ya=b.isDebugRender);Ya&&(ta.style.display="block");b.scanSettings&&Object.assign(La,b.scanSettings);b.canvasSize&&(ca.Ha=b.canvasSize);vb.B({n:ca.Ya[1]-ca.Ya[0]+1,Gb:ca.Wd-ca.Ya[0]});Ta="undefined"===typeof b.followZRot?!1:b.followZRot;bb="undefined"===typeof b.ZRotRange?null:b.ZRotRange;Ob="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof
WorkerGlobalScope;-1!==ca.Ha&&(ta.width=ca.Ha,ta.height=ca.Ha);lb.set_source(b.video,b.videoCrop);if(!Qa.B({rb:ta,width:ta.width,height:ta.height,debug:!1,Ic:c.bind(null,"GLCONTEXT_LOST"),premultipliedAlpha:!1}))return c("GL_INCOMPATIBLE"),!1;L.current===Xa.video&&(Jb(L.element),Va());Yb();Ja();qa=fa.qa;c(!1);return!0},set_source:function(b,c){"undefined"!==typeof b&&b?(L.element=b,L.current=Xa.video,L.element.isFakeVideo?(D.da=L.element.videoWidth,D.ca=L.element.videoHeight,L.type=Ma.ub):"VIDEO"===
b.tagName?(D.da=L.element.videoWidth,D.ca=L.element.videoHeight,L.type=Ma.video):(D.da=L.element.width,D.ca=L.element.height,L.type=Ma.dc),Aa(c)):L.current=Xa.Wc;-1===[fa.fa,fa.LOADING].indexOf(qa)&&(L.ka&&L.ka.D&&(L.ka.D=b),Va(),Ja(),L.type===Ma.dc&&L.H.refresh())},set_NN:function(b,c,e){if(db===Wa.LOADING)c&&c("NN_LOADING");else{var f=function(q){db=Wa.IDLE;c&&c(q)};db=Wa.LOADING;"string"===typeof b?Pb.get(b,function(q){if(!q)return f("INVALID_NN");var k=null;try{k=JSON.parse(q)}catch(r){return f("INVALID_NN")}Kb(k,
f,e)},function(){f("NOTFOUND_NN")}):Kb(b,f,e)}},reset_state:function(){Hb();qa=fa.qa},destroy:function(){lb.reset_state();Pa&&Pa.u();Qa.u();db=Wa.fa;qa=fa.fa;return Promise.resolve()},detect_async:function(b,c,e){var f,q;return Tb(new Bb(new jb(function(k){switch(k.ba){case 1:f=Lb(b,c,e);if(-1===f)return k.return(ma);q=0;case 2:if(!(q<f)){k.ba=4;break}Mb(q,f);var r=Pa.$d(Q.H);k.ba=5;return{value:r};case 5:Fa.W();++q;k.ba=2;break;case 4:return k.return(Nb())}})))},detect:function(b,c,e){b=Lb(b,c,e);
if(-1===b)return ma;for(c=0;c<b;++c)Mb(c,b),Pa.L(Q.H),Fa.W();return Nb()},get_aspectRatio:function(){return D.S/D.O},set_scanSettings:function(b){Object.assign(La,b);Va()},set_videoCrop:function(b){Aa(b);Ja();Va()}};return lb}();
if(typeof(module)!=='undefined'){module.exports=JEEARAPI;}
/* eslint-enable */
